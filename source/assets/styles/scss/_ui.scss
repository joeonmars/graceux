@mixin device() {
	.case{
		background-size: 100% auto;
		background-repeat: no-repeat;
		position: absolute;
		width: 100%;
		height: 100%;
		z-index: 0;
	}

	.image-container{
		position: absolute;
		z-index: 1;
		border: 1px solid $color_logo_blue;
		box-sizing: border-box;

		>img{
			width: 100%;
			height: 100%;
			border: none;
		}
	}
}

@mixin device-desktop($width) {
	width: $width;
	padding-bottom: #{534/961*$width} !important;
	@include device();

	.case{
		background-image: image-url('devices/laptop.svg');
	}

	.image-container{
		left: 13.6% !important;
		top: 9.9% !important;
		width: 72.52% !important;
		height: 76.59% !important;
	}
}

@mixin device-mobile($width) {
	width: $width;
	padding-bottom: #{742/352*$width} !important;
	@include device();

	.case{
		background-image: image-url('devices/mobile.svg');
	}

	.image-container{
		left: 7.1% !important;
		top: 13.07% !important;
		width: 86.36% !important;
		height: 72.91% !important;
	}
}

@mixin device-iphone4($width) {
	width: $width;
	padding-bottom: #{360/190*$width} !important;
	@include device();

	.case{
		background-image: image-url('devices/iphone4.svg');
	}

	.image-container{
		left: 6.8% !important;
		top: 14.58% !important;
		width: 85.67% !important;
		height: 68.51% !important;
	}
}

@mixin device-tablet-portrait($width) {
	width: $width;
	padding-bottom: #{740/502*$width} !important;
	@include device();

	.case{
		background-image: image-url('devices/tablet-portrait.svg');
	}

	.image-container{
		left: 7.76% !important;
		top: 10% !important;
		width: 85% !important;
		height: 80% !important;
	}
}

@mixin device-tablet-landscape($width) {
	width: $width;
	padding-bottom: #{502/740*$width} !important;
	@include device();

	.case{
		background-image: image-url('devices/tablet-landscape.svg');
	}

	.image-container{
		left: 10% !important;
		top: 7.76% !important;
		width: 80% !important;
		height: 85% !important;
	}
}

@mixin dots-pattern() {
  @include retina-background('dots-pattern.png', 36px, 22px);
  background-repeat: repeat;
}


@mixin dots-pattern-large() {
  @include retina-background('dots-pattern-large.png', 72px, 44px);
  background-repeat: repeat;
}


@mixin grab-cursor {
  cursor: -webkit-grab;
  cursor: -moz-grab;
  cursor: -o-grab;
  cursor: -ms-grab;
  cursor: grab;
}

@mixin grabbing-cursor {
  cursor: -webkit-grabbing !important;
  cursor: -moz-grabbing !important;
  cursor: -o-grabbing !important;
  cursor: -ms-grabbing !important;
  cursor: grabbing !important;
}


%reset-button{
  border: none;
  outline: none;
  margin: 0;
  padding: 0;
  background-color: transparent;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
  @include user-select(none);
  @include appearance(none);
  cursor: pointer;
}

button.icon{
	@extend %reset-button;
}

a{
	*{
		pointer-events: none;
	}
}

hr{
	border: none;
	width: 100%;
	height: 1px;
	@include retina-background('dotted-line.png', 497px, 1px);
}

article{
	ul{
		margin: 4rem 0;

		>li{
			position: relative;
			margin-top: 1.4em;
			padding-left: 5rem;
			font-family: $font_whitney_lightitalic;
			font-size: 1.5em;
			line-height: 1.73;
			letter-spacing: .08em;

			&:last-child{
				border-bottom: none;

				&:after{
					content: none;
				}
			}

			&:before{
				@include absoluteTopLeft;
				font-size: 1.8rem;
				line-height: 1.8em;
				@extend .icon;
			}

			&:after{
				content: "";
				margin-top: 1.4em;
				display: block;
				width: 100%;
				height: 1px;
				@include retina-background('dotted-line.png', 497px, 1px);
			}

			/* -- alternate shapes -- */
			&:nth-child(3n-2){
				@extend .icon-shape-g;
			}

			&:nth-child(3n-1){
				@extend .icon-shape-u;
			}

			&:nth-child(3n){
				@extend .icon-shape-x;
			}

			/* -- alternate angles and colors -- */
			&:nth-child(4n-3){
				&:before{
					color: $color_logo_red;
					@include rotate(0deg);
				}
			}

			&:nth-child(4n-2){
				&:before{
					color: $color_logo_blue;
					@include rotate(90deg);
				}
			}

			&:nth-child(4n-1){
				&:before{
					color: $color_logo_yellow;
					@include rotate(180deg);
				}
			}

			&:nth-child(4n){
				&:before{
					color: $color_logo_green;
					@include rotate(270deg);
				}
			}
		}
	}
}

*[data-cursor="grabbing"] {
	@include grabbing-cursor;
}

*[data-cursor="grab"] {
	@include grab-cursor;
}

*[data-cursor="inherit"] {
	cursor: inherit !important;
}

.scrollbar{
	position: absolute;
	top: 0;
	right: 0;
	width: 30px;
	height: 100%;

	>.handle{
		position: absolute;
		right: 0;
		width: 8px;
		background: lighten($color_lightgray, 10%);
		cursor: default;
		@include transition(background .2s $easeOutCubic, width .2s $easeOutCubic);
	}

	&:hover, &.dragging{
		>.handle{
			width: 20px;
			background: $color_lightgray;
		}
	}

	.touch &{
		display: none;
	}

	@include breakpoint($break_mobile) {
		display: none;
	}
}

.bordered-button{
	@extend %reset-button;
	position: relative;
	display: inline-block;
	font-family: $font_flama;
	text-transform: uppercase;
	border: 2px solid $color_logo_blue;
	cursor: pointer;
	font-size: 1.4rem;
	letter-spacing: 0.85px;
	background: transparent;
	cursor: pointer;
	overflow: hidden;
	@include transition(background .3s $easeOutQuint);

	>span{
		display: block;
		padding: 14px 20px;
		color: $color_logo_blue;
		@include translateY(0);
		@include transition(transform .3s $easeOutQuint, opacity .3s $easeOutQuint);
	}

	&:after{
		content: attr(data-text);
		position: absolute;
		top: 0;
		left: 0;
		padding: 14px 20px;
		color: white;
		opacity: 0;
		@include translateY(50%);
		@include transition(transform .3s $easeOutQuint, opacity .3s $easeOutQuint);
	}

	&:hover{
		background: $color_logo_blue;

		>span{
			opacity: 0;
			@include translateY(-50%);
		}

		&:after{
			opacity: 1;
			@include translateY(0);
		}
	}

	&.white{
		border-color: white;

		>span{
			color: white;
		}

		&:after{
			color: $color_logo_blue;
		}

		&:hover{
			background: white;
		}
	}
}

.underlined-button{
	@extend %reset-button;
	position: relative;
	padding-bottom: 20px;

	.content{
		opacity: .5;
		@include scale(1);
		@include transition(transform .25s $easeOutCubic, opacity .25s $easeOutCubic);
		@include backfaceHidden;
	}

	.underline{
		position: absolute;
		bottom: 0;
		width: 100%;
		height: 10px;
		background: $color_logo_blue;
		opacity: 0;
		@include translateY(0);
		@include transition(transform .25s $easeOutCubic, opacity .25s $easeOutCubic);
	}

	&:hover, &.active{
		.content{
			opacity: 1;
			@include scale(.85);
		}

		.underline{
			opacity: 1;
			@include translateY(-.3em);
		}
	}
}

.square-button{
	@extend %reset-button;
	@include inline-block(top);
	background: #000;
}

.scroll{
	@extend %reset-button;
	width: 5rem;
	height: 5rem;
	background-color: $color_logo_blue;
	overflow: hidden;
	opacity: 1;
	visibility: visible;
	@include transition(opacity .5s, visibility .5s);

	>.icon{
		color: white;
		font-size: 2.5rem;
		@include animation( arrow-scroll 1.5s $easeOutQuint infinite );
	}

	&.hide{
		visibility: hidden;
		opacity: 0;
	}
}

.video-player{
	position: relative;
	background: black;
	width: 100%;
	height: 100%;

	video{
		width: 100%;
		height: 100%;
	}

	.poster{
		@include absoluteTopLeft;
		width: 100%;
		height: 100%;
		background-color: black;
		background-position: center center;
		background-size: cover;
		visibility: hidden;
		opacity: 0;
		@include transition(visibility .65s, opacity .65s);
	}

	.controls{
		@include absoluteTopLeft;
		width: 100%;
		height: 100%;
		cursor: pointer;

		>.play{
			position: absolute;
			top: 50%;
			left: 50%;
			margin: -2.5rem;
			width: 5rem;
			height: 5rem;
			background: $color_logo_blue;
			color: white;
			font-size: 2.2rem;
			@include transition(opacity .2s $easeOutCubic);
			@extend .icon-pause;

			&.paused{
				@extend .icon-play;
			}
		}

		>.slider{
			position: absolute;
			bottom: 3.5rem;
			left: 4rem;
			width: calc(100% - #{4rem*2});
			padding-top: 7px;
			box-sizing: content-box;
			cursor: col-resize;

			>.track{
				width: 100%;
				height: 3px;
				background: black;
				opacity: .5;
				@include transition(opacity .2s $easeOutCubic, height .2s $easeOutCubic);

				>.fill{
					width: 0;
					height: 100%;
					background: $color_logo_blue;
					@include transition(width .25s linear);
				}
			}

			&:hover, &.dragging{
				.track{
					height: 10px;
					opacity: 1;
				}
			}

			&.dragging{
				.fill{
					@include transition(none);
				}
			}
		}
	}

	&.not-played{
		
		.poster{
			visibility: visible;
			opacity: 1;
		}

		.play{
			opacity: 1 !important;
		}

		.track{
			opacity: 0 !important;
		}
	}

	&.clean{
		.play:not(.paused){
			opacity: 0 !important;
		}

		.track{
			opacity: 0 !important;
		}
	}
}

.app-icon{
	@include inline-block(middle);

	&.photoshop{
		@include retina-icon('photoshop');
	}

	&.fireworks{
		@include retina-icon('fireworks');
	}

	&.invision{
		@include retina-icon('invision');
	}

	&.evernote{
		@include retina-icon('evernote');
	}

	&.justinmind{
		@include retina-icon('justinmind');
	}

	&.sketch{
		@include retina-icon('sketch');
	}

	&.axure{
		@include retina-icon('axure');
	}

	&.codekit{
		@include retina-icon('codekit');
	}

	&.html5{
		@include retina-icon('html5');
	}

	&.javascript{
		@include retina-icon('javascript');
	}

	&.keynote{
		@include retina-icon('keynote');
	}
}