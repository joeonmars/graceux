@import "global";
@import "animation";
@import "typography";
@import "ui";
@import "grid";
@import "header";
@import "footer";
@import "intro";
@import "contact";

#portfolio-navigation{
	position: absolute;
	top: 7em;
	z-index: 1;
	width: 100%;
	height: 0;
	background: rgba(0, 0, 0, .25);
	overflow: hidden;
	@include user-select(none);

	>.inner{
		position: absolute;
		width: 100%;
		height: 40vh;
		min-height: 400px;
		max-height: 700px;
		background: $color_lightergray;
		border: $border-padding solid white;
		border-top: none;
		overflow: hidden;

		>.particles-container{
			position: relative;
			width: calc(100% - #{15rem*2});
			height: calc(100% - #{10rem});
			margin: (10rem/2) auto;
		}

		li{
			position: absolute;
			margin-left: -15rem;
			width: 30rem;
			text-align: center;

			>a{
				display: inline-block;
				opacity: .3;
				@include transition(opacity .5s);

				.icon{
					@include inline-block(middle);
					font-size: 2rem;
					margin-right: .8rem;
					@include backfaceHidden;
				}

				h6{
					@include inline-block(middle);
					font-size: 1.2rem;
				}

				&:hover, &.active{
					opacity: 1;
				}
			}

			&:nth-child(3n+1) {
				.icon{
					@extend .icon-shape-g-stroke;
					@include rotate(0deg);
				}
			}

			&:nth-child(3n+2) {
				.icon{
					@extend .icon-shape-u-stroke;
					@include rotate(90deg);
				}
			}

			&:nth-child(3n+3) {
				.icon{
					@extend .icon-shape-x-stroke;
					@include rotate(180deg);
				}
			}

			&:nth-child(3n+4) {
				.icon{
					@extend .icon-shape-x-stroke;
					@include rotate(270deg);
				}
			}
		}

		>.close{
			position: absolute;
			right: ($border-padding * 2);
			bottom: ($border-padding * 2);
			z-index: 100;
			font-size: 2.2rem;
			line-height: 3.2rem;
			color: $color_lightgray;
			@include scale(1);
			@include transition(color .3s $easeOutSine, transform .3s $easeOutSine);

			&:hover{
				@include scale(.85);
				color: $color_logo_blue;
			}

			&:active{
				@include scale(.75);
			}
		}
	}

	&[data-category="projects"]{
		.labs{
			display: none;
		}
	}

	&[data-category="labs"]{
		.projects{
			display: none;
		}
	}
}

#main-container{
	position: absolute;
	z-index: 0;
	width: 100%;
	height: 100%;
	overflow: auto;

	@include breakpoint($break_above_mobile) {
		padding: $border-padding;
	}
}

#main-content{
	position: relative;
	z-index: 0;
	width: 100%;

	/* -- break-points -- */
	@include breakpoint($break_mobile) {
		padding-top: #{7em*.7};
	}

	@include breakpoint($break_tablet) {
		padding-top: calc(#{7em*.85} - #{$border-padding});
	}

	@include breakpoint($break_desktop) {
		padding-top: calc(7em - #{$border-padding});
	}
}

#projects{
	@import "home";
}

#labs{
	@import "labs";
}

#project-container{
	@import "project";
}

#about{
	@import "about";
}

#main-scrollbar{
	z-index: 10;
	top: calc(7em + #{$border-padding});
	height: calc(100% - #{7em*2});
}

#fullscreen-loader-container{
	position: fixed;
	z-index: 15;
	width: 100%;
	height: 100%;
	display: none;
	
	&.show{
		display: block;
	}

	>div{
		position: absolute;
		width: 100%;
		height: 100%;
		overflow: hidden;
	}

	>.project-loader{
		.dimmed-background{
			@include absoluteTopLeft;
			width: 100vw;
			height: 100vh;
			background: #fff;
			@include backfaceHidden();
		}

		.lightbox{
			@include absoluteTopLeft;
			width: 100vw;
			height: 100vh;
			background: $color_lightergray;
			@include backfaceHidden();

			>.shapes{
				@include absoluteTopLeft;
				z-index: 0;
				width: 100%;
				height: 100%;
				@include animation( fade-in-from-bottom 2s $easeOutCubic both );

				>.icon{
					position: absolute;
					opacity: .25;
					font-size: 1vmin;
					@extend .red;
					@include backfaceHidden();

					&:nth-child(3n+3) {
						font-size: 3vmin;
						@extend .blue;
					}

					&:nth-child(2n+2) {
						font-size: 7vmin;
						@extend .yellow;
					}

					&:nth-child(3n+4) {
						font-size: 2vmin;
						@extend .green;
					}

					&:nth-child(3n+1) {
						@extend .icon-shape-g-stroke;
						@include animation( floating-1 2s linear infinite alternate );
					}

					&:nth-child(3n+2) {
						@extend .icon-shape-u-stroke;
						@include animation( floating-2 3s linear infinite alternate );
					}

					&:nth-child(3n+3) {
						@extend .icon-shape-x-stroke;
						@include animation( floating-3 4s linear infinite alternate );
					}

					&:nth-child(3n+4) {
						@extend .icon-shape-x-stroke;
						@include animation( floating-1 5s linear infinite alternate );
					}
				}
			}

			>.text-container{
				position: relative;
				z-index: 1;
				width: 100%;
				height: 100%;
				@include container(12);
				@include flexbox((
					display: flex,
					align-items: center
				));

				>.masthead{
					padding: 0 span(3 wide);
					color: #000;
				}
			}

			/* -- break-points -- */
			@include breakpoint($break_mobile) {
				padding: none;
			}

			@include breakpoint($break_tablet) {
				padding: $border-padding;
				padding-top: #{7em*.85};
				padding-bottom: calc(5rem + #{$border-padding*2});
			}

			@include breakpoint($break_desktop) {
				padding: $border-padding;
				padding-top: 7em;
				padding-bottom: calc(5rem + #{$border-padding*2});
			}
		}
	}

	>.simple-loader{
		@include flexbox((
   			display: flex,
   			align-items: center,
   			justify-content: center
   		));

   		background-color: white;

		>.spinner{
			position: relative;
			min-width: 240px;
			max-width: 380px;
			width: 12%;

			&:after{
				content: "";
				display: block;
				width: 100%;
				height: 0;
				padding-bottom: percentage(180/380);
				background-image: image-url('gux-spinner.gif');
				background-size: 100% 100%;
			}
		}
	}
}

#image-viewer-container{
	position: fixed;
	z-index: 15;
	width: 100%;
	height: 100%;
	overflow: hidden;
	@include user-select(none);
	display: none;
	
	&.show{
		display: block;
	}

	#image-viewer{
		width: 100%;
		height: 100%;

		>.overlay{
			position: absolute;
			z-index: 0;
			bottom: 0;
			z-index: 0;
			width: 100%;
			background: $color_logo_blue;
		}

		>.image{
			position: absolute;
			z-index: 1;
			width: 0;
			height: 0;
			
			&.loaded{
				.default{
					display: none !important;
				}

				.large{
					display: block !important;
				}
			}

			>.image-container{
				@include translate(-50%, -50%);

				>.shadow{
					display: none;
					position: absolute;
					z-index: 0;
					top: 20px;
					left: 20px;
					width: 100%;
					height: 100%;
					@include dots-pattern;
					pointer-events: none;

					&.show{
						display: block;
					}
				}

				img{
					position: absolute;
					z-index: 1;
					width: 100%;
					height: 100%;
					@include backfaceHidden();
				}

				.default{
					display: block;
				}

				.large{
					display: none;
				}
			}
		}

		>.controls{
			position: absolute;
			z-index: 2;
			right: 4%;
			top: 50%;
			width: 40px;
			visibility: visible;
			@include translateY(-50%);
			@include transition(opacity .25s, visibility .25s);

			&:not(.show){
				opacity: 0;
				visibility: hidden;
			}

			&.disabled{
				opacity: 0 !important;
				visibility: hidden !important;
			}
		}

		.close{
			@extend %reset-button;
			width: 100%;
			height: 40px;
			background: $color_logo_blue;
			font-size: 1.4rem;
			color: white;
			@extend .icon;
			@extend .icon-close;
		}

		.slider{
			width: 100%;
			height: 230px;
			background: $color_lightgray;
			@include box-shadow(1px 1px 2px 0px rgba(black,0.1));

			>.inner{
				position: relative;
				left: 20px;
				top: 35px;
				width: 1px;
				height: 160px;

				&:before, &:after{
					position: absolute;
					left: -1rem;
					display: block;
					width: 2rem;
					height: 3rem;
					font-size: 1.4rem;
					line-height: 3rem;
					text-align: center;
					color: white;
					@extend .icon;
				}

				&:before{
					top: -3rem;
					@extend .icon-plus-content;
				}

				&:after{
					top: 100%;
					@extend .icon-minus-content;
				}

				>.track{
					@include absoluteTopLeft;
					width: 2px;
					height: 100%;
					margin-left: -1px;
					background: rgba(white, .25);
				}

				>.handle{
					position: absolute;
					@include translate(-50%, -50%);
					width: 18px;
					height: 50px;
					cursor: ns-resize;

					&:after{
						content: '';
						display: block;
						position: relative;
						width: 100%;
						height: 100%;
						background: $color_lightgray;
						border: 2px solid white;
					}
				}
			}

			@include breakpoint($break_mobile) {
				display: none;
			}
		}
	}
}